### nginx的作用
1. 静态HTTP服务器：
2. 反向代理
    1. 负载均衡
    2. 虚拟主机



### some questions

#### 比如我部署了一项目到服务器上，不想通过IP来访问，那么在hosts中进行域名和IP的映射，与在ngnix中配置IP和域名映射有什么关系？是不是能实现相同的效果？需要同时都配置吗？

1、在hosts中配置，是相当于dns解析，浏览器中访问了该域名，会在hosts中找映射关系，然后把ip返回给浏览器，再访问该ip地址。
2、而nginx中你应该指的是server_name指令吧，这个是会匹配http请求头中的Host字段，所以完全不是一回事。
3、不一定需要同时配置，设置了hosts后，浏览器默认访问80端口，如果nginx中配置了80端口，直接就可以访问了，不用设置server_name。但是有种情况是，多个域名访问相同的ip端口，这时候需要通过server_name去区分访问的是哪个server域。
**也就是说你要访问的端口不是默认80情况就要另外配置nginx！**

#### windows中hosts中的映射项和nginx中配置的server的host的关系是什么？当使用浏览器进行访问时，域名是否先在hosts文件中进行查找，然后通过ip地址去访问资源，那nginx是不是不会对该请求进行匹配（因为是ip地址）？

你在浏览器中 输入一个网址 会先check一下你本地的hosts 文件 如果有做映射的话 就直接通过映射的ip访问你的 web服务器（这边是nginx） 当这个请求被nginx 获得后 他会check一下请求的域名和servername是否匹配，匹配到的话 就根据相应的配置返回内容， 没有匹配到的话 就根据默认的配置返回内容。

#### nginx、本地host、域名解析之间的关系

客户端通过域名请求服务，如果你在本地的hosts文件中配置了该域名与ip的映射关系，那么，请求就会直接发送到hosts文件中对应的ip，不会通过dns解析（如果本地hosts文件中没有配置，就会通过dns解析域名）。
这时，请求到达了服务端，服务端的nginx拦截了该请求，然后在本地通过域名匹配server_name，然后，根据proxy_pass返回相应的服务给客户端。





### 自己总结

请求先进过hosts后面再到nginx。

配置hosts的作用是为了能被nginx捕获。nginx捕获80端口，如果不通过hosts，那么域名会到局域网里面的域名解析，此时该域名指向的ip就不是本机的ip会是服务端的ip，那么就不会进行本机启动的nginx，而是远端服务器的nginx。

配置nginx的作用：因为http请求默认的端口是80，如果你的项目端口不是80，需要配置nginx指向对应ip、端口。如果你的项目端口是80，那么就不需要nginx配置，只配置hosts就行了。

































